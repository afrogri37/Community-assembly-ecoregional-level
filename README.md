# Community-assembly-ecoregional-level
Calculation of taxonomic, phylogenetic and functional diversity indexes of regional communities of Trichoptera (caddisflies) in 18 ecoregions across Europe


In the folder **"external_files"** there are:
  * The raw data files in .csv format:
-biol_traits : biological traits data found in freshwaterecology.org
-ecoreg_centroids : the coordinates of the centroids of each ecoregion calculated in ArcGis
-ecoregions : the species occurences matrix (presence-absence) for the 18 ecoregions

  * Scripts with source functions used in the analyses 

  * Ultrametric_Trichoptera.tre : the ultrametric phylogenetic tree generated by the RaxML method for 498 species of European Trichoptera

In the folder **"precompiled"**, there are the results of simulations computing alpha and beta functional diversity indexes

Some plots and tables are stored externally in the folder **"results"**


#### prep_var_ER.R
_Preparatory file linked to further scripts._
Loading and preparation of raw data. Calculation of Functional Space using a PCoA. 

#### FS_graph_ER.R
Functional space representations

#### KDE_graph_ER.R
Kernel Density Estimation plots

#### PCO_correlations.R
Estimating the correlations of each trait categories to the PCoA axes and the variance captured by each axis. 

#### aFD_simulations_graphs_ER.R
Estimates alpha functional diversity indexes (Functional Richness and Functional Distance) based on a simulation of 999 iterations.
The simulation step is ommited in case that precompiled data are found in the folder **"precompiled"**.
Generates graphs of the indexes with respect to latitude based on linear models.

#### aTD_PD_graphs_ER.R
Estimates alpha taxonomic and phylogenetic diversity indexes (Taxonomic Richness and phylogenetic MPD) in each ecoregion. 
Generates graphs of the indexes with respect to latitude based on linear models. 
Estimates indexes of phylogenentic niche conservtism of traits and functional axes, namely Blomberg's K and Pagel's Î».

#### Beta_diversity_calculations_ER.R
_This script is linked to the following beta diversity related scripts._
Estimates the beta diversity turnover and nestedness components of TD, PD and FD using the package _betapart_.
For the FD, the estimation is based on a simulation of 999 iterations. Again, the simulation step is ommited in case that precompiled data are found in the folder **"precompiled"**.
Generates a geographic distance matrix between the centroids of the ecoregions. 

#### Beta_diversity_graphs_statistics_ER.R
Generates graphs of beta diversity components with geographic distance between ecoregions, testing for the significance of linear models. 

#### Contributions_beta_div_ER.R
Generates plots of the contribution of turnover and nestedness to the beta diversity between ecoregions in Europe. 
